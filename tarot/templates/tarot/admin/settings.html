{% extends 'tarot/admin/base.html' %}

{% block title %}Site Ayarları{% endblock %}
{% block page_title %}Site Ayarları{% endblock %}
{% block page_subtitle %}Sitenizin genel ayarlarını buradan yönetin{% endblock %}

{% block content %}

<form method="post" class="max-w-4xl">
    {% csrf_token %}
    
    <!-- Genel Bilgiler -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100">
        <h3 class="text-lg font-bold text-gray-900 mb-6 flex items-center">
            <i class="fas fa-info-circle text-purple-600 mr-2"></i>
            Genel Bilgiler
        </h3>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Site Başlığı
                </label>
                <input type="text" 
                       name="site_title" 
                       value="{{ settings.site_title }}" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Site Açıklaması
                </label>
                <textarea name="site_description" 
                          rows="3" 
                          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">{{ settings.site_description }}</textarea>
            </div>
        </div>
    </div>
    
    <!-- Okuma Limitleri -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100">
        <h3 class="text-lg font-bold text-gray-900 mb-6 flex items-center">
            <i class="fas fa-sliders-h text-purple-600 mr-2"></i>
            Okuma Limitleri
        </h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Günlük Okuma Limiti
                </label>
                <input type="number" 
                       name="daily_reading_limit" 
                       value="{{ settings.daily_reading_limit }}" 
                       min="1"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                <p class="text-xs text-gray-500 mt-1">Kullanıcı başına günlük maksimum okuma sayısı</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Maksimum Soru Uzunluğu
                </label>
                <input type="number" 
                       name="max_question_length" 
                       value="{{ settings.max_question_length }}" 
                       min="50"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                <p class="text-xs text-gray-500 mt-1">Karakter cinsinden</p>
            </div>
        </div>
    </div>
    
    <!-- Site Durumu -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100">
        <h3 class="text-lg font-bold text-gray-900 mb-6 flex items-center">
            <i class="fas fa-toggle-on text-purple-600 mr-2"></i>
            Site Durumu
        </h3>
        
        <div class="space-y-4">
            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                <div>
                    <p class="font-medium text-gray-900">Bakım Modu</p>
                    <p class="text-sm text-gray-500">Site ziyaretçilere kapatılır</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" name="maintenance_mode" class="sr-only peer" {% if settings.maintenance_mode %}checked{% endif %}>
                    <div class="w-14 h-7 bg-gray-200 peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-purple-600"></div>
                </label>
            </div>
            
            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                <div>
                    <p class="font-medium text-gray-900">Kayıt Kabul Et</p>
                    <p class="text-sm text-gray-500">Yeni kullanıcıların kaydolmasına izin ver</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" name="allow_registration" class="sr-only peer" {% if settings.allow_registration %}checked{% endif %}>
                    <div class="w-14 h-7 bg-gray-200 peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-purple-600"></div>
                </label>
            </div>
            
            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                <div>
                    <p class="font-medium text-gray-900">Misafir Okuma</p>
                    <p class="text-sm text-gray-500">Giriş yapmadan okuma yapılabilsin</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" name="allow_guest_reading" class="sr-only peer" {% if settings.allow_guest_reading %}checked{% endif %}>
                    <div class="w-14 h-7 bg-gray-200 peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-purple-600"></div>
                </label>
            </div>
        </div>
    </div>
    
    <!-- Kaydet Butonu -->
    <div class="flex justify-end space-x-4">
        <a href="{% url 'tarot:admin_dashboard' %}" class="px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium">
            <i class="fas fa-times mr-2"></i> İptal
        </a>
        <button type="submit" class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition font-medium">
            <i class="fas fa-save mr-2"></i> Değişiklikleri Kaydet
        </button>
    </div>
</form>

{% endblock %}
